{
  "$schema": "./node_modules/oxlint/configuration_schema.json",
  "plugins": [
    "typescript",
    "unicorn",
    "react",
    "oxc",
    "import",
    "jsx-a11y",
    "promise",
    "vitest",
    "jsdoc"

    // react-perf は React Compiler で不要になるので利用しない
  ],
  "categories": {
    "correctness": "error",
    "suspicious": "warn",
    "pedantic": "off",
    "perf": "warn",
    "style": "off",
    "restriction": "off",
    "nursery": "off"
  },
  "rules": {
    "eslint/eqeqeq": "error",
    "eslint/no-var": "error",
    "eslint/unicode-bom": "error",
    "eslint/no-new-func": "error",
    "eslint/no-nested-ternary": "error",
    "eslint/no-multi-assign": "error",
    "eslint/no-implicit-coercion": "error",
    "eslint/curly": "error",
    "eslint/no-proto": "error",
    "eslint/no-sequences": ["error", { "allowInParentheses": false }],
    "eslint/no-void": "error",
    "eslint/no-array-constructor": "error",
    "eslint/no-prototype-builtins": "error",
    "eslint/prefer-template": "error",
    "eslint/no-restricted-imports": [
      "error",
      {
        // 手動メモ化の禁止（React Compiler 導入予定）
        "paths": [
          {
            "name": "react",
            "importNames": ["useMemo", "useCallback", "memo"],
            "message": "React Compiler 導入予定のため、手動メモ化は不要です"
          }
        ],
        // 相対パス import の禁止
        "patterns": ["./*", "../*"]
      }
    ],

    "oxc/bad-bitwise-operator": "error",
    "oxc/no-barrel-file": "error",
    "oxc/approx-constant": "error",

    "typescript/array-type": ["error", { "default": "array-simple" }],
    "typescript/consistent-type-definitions": "error",
    "typescript/consistent-type-imports": "error",
    "typescript/consistent-indexed-object-style": "error",
    "typescript/prefer-function-type": "error",
    "typescript/prefer-for-of": "error",
    "typescript/no-non-null-asserted-nullish-coalescing": "error",
    "typescript/ban-types": "error",
    "typescript/adjacent-overload-signatures": "error",
    "typescript/no-non-null-assertion": "error",
    "typescript/no-unsafe-function-type": "error",

    "unicorn/no-array-for-each": "error",
    "unicorn/no-abusive-eslint-disable": "error",
    "unicorn/prefer-negative-index": "error",
    "unicorn/throw-new-error": "error",
    "unicorn/prefer-modern-math-apis": "error",
    "unicorn/prefer-number-properties": "error",
    "unicorn/prefer-at": "error",
    "unicorn/prefer-string-slice": "error",
    "unicorn/new-for-builtins": "error",
    "unicorn/no-instanceof-builtins": "error",
    "unicorn/prefer-string-replace-all": "error",

    "import/consistent-type-specifier-style": "error",
    "import/no-anonymous-default-export": "error",
    "import/no-cycle": "error",
    "import/no-unassigned-import": [
      "error",
      { "allow": ["@testing-library/jest-dom/vitest", "**/*.css"] }
    ],
    "import/no-duplicates": "error",

    // React 17 以降は不要なルールなので OFF
    "react/react-in-jsx-scope": "off",
    "react/no-danger": "error",
    "react/rules-of-hooks": "error",
    // TODO: React Compiler ルール (purity, refs, immutability 等) は oxlint 未実装
    // oxlint が対応次第、有効化を検討

    // TypeScript では type は不要なので OFF
    "jsdoc/empty-tags": "error",
    "jsdoc/require-property-type": "off",
    "jsdoc/require-param": "error",
    "jsdoc/require-param-description": "error",
    "jsdoc/require-param-name": "error",
    "jsdoc/require-returns": "error",
    "jsdoc/require-returns-description": "error",
    "jsdoc/check-tag-names": ["error", { "typed": true }],

    // --- type aware Rules --- //
    "typescript/prefer-nullish-coalescing": "warn",
    "typescript/strict-boolean-expressions": "warn",
    "typescript/no-misused-promises": "warn",
    "typescript/no-deprecated": "warn",
    "typescript/no-unsafe-argument": "warn",
    "typescript/no-unsafe-assignment": "warn",
    "typescript/no-unsafe-call": "warn",
    "typescript/no-unsafe-member-access": "warn",
    "typescript/no-unsafe-return": "warn",
    "typescript/no-unsafe-type-assertion": "warn"
  },
  "settings": {
    "jsx-a11y": {
      "polymorphicPropName": null,
      "components": {},
      "attributes": {}
    },
    "next": {
      "rootDir": []
    },
    "react": {
      "formComponents": [],
      "linkComponents": [],
      "version": null
    },
    "jsdoc": {
      "ignorePrivate": false,
      "ignoreInternal": false,
      "ignoreReplacesDocs": true,
      "overrideReplacesDocs": true,
      "augmentsExtendsReplacesDocs": false,
      "implementsReplacesDocs": false,
      "exemptDestructuredRootsFromChecks": false,
      "tagNamePreference": {}
    },
    "vitest": {
      "typecheck": false
    }
  },
  "env": {
    "builtin": true
  },
  "globals": {},
  "ignorePatterns": [],
  "overrides": [
    {
      // shadcn/ui コンポーネントは外部由来のため、手動メモ化禁止ルールを除外
      "files": ["src/components/ui/**"],
      "rules": {
        "eslint/no-restricted-imports": [
          "error",
          {
            "patterns": ["./*", "../*"]
          }
        ]
      }
    }
  ]
}
